本章，我们从建模的角度来描述CRFs，阐述了CRF是如何把机构化的输出表示成高维输入向量的分布。CRFs可以被理解成把逻辑回归分类器扩展到任意的图模型所得，也可以被理解成生成模型（如隐马尔科夫模型）的判别对应物。（译注：**判别**和**生成**模型是两种在理论上等价（可互相推导得到对方），但建模思路相反的模型）。

我们从对图模型的简单介绍（第2.1节），以及对NLP？？中的生成和判别模型的介绍（第2.2节）开始。然后，我们可以给出了CRF的正式定义，包括常用的线性链（linear chains）（第2.3节），以及通用图结构（第2.4节）。因为CRF的准确性严重依赖于所使用的特征，我们也描述了特征工程常用的一些技巧（第2.5节）（译注：就是把原始输入变成特征，再作为模型的输入）。最后，我们提供两个CRF应用的例子（第2.6节），以及一个宽泛的、关于CRFs应用领域的报告。

##2.1 图模型
图模型是表达和推断多变量概率分布的强大框架。它已经在统计模型的许多领域被证明有用，包括编码理论（coding theory），计算机视觉，知识表达（knowledge representation），贝叶斯统计（Bayesian statistics），以及自然语言处理（广告语也太多了吧）。

直接描述包含许多变量的分布，其代价是昂贵的。假如我们用表（table）来描述n个二值变量的联合分布，需要$$O(2^n)$$个浮点数（建议读者理解一下：每个变量有2种可能的取值，而总共有n个变量，那么总共有$$2^n$$种可能的取值。它这里的意思是：给每种取值赋予一个浮点数，表示其概率）。从图模型的角度看，认为一个分布尽管建立在许多变量之上，但常常可以表示成一些局部方程（local functions）的乘积，而这些方程只依赖于少量的变量（译注：能够相乘，意味着相互独立）。这种划分实际上与变量间的某些条件独立性密切相关——两种信息被轻易地用途来概括。实质上，划分、条件独立与图的结构，这三者构成了图模型框架力量的来源：条件独立性视角主要用于设计模型，而划分视角主要用于设计推断算法。

在本节的余下部分，我们从以上两个视角来介绍图模型，关注那些建立在无向图（undirected graphs)之上的模型。关于更详细、更现代的图模型及其推断算法，可参考Koller 和 Friedman 【57】的教材。

###2.1.1 无向图
我们考虑随机变量集合$$Y$$上的概率分布。我们通过整数$$s\in 1,2,...|Y|$$来对变量进行索引。每个变量$$Y_s\in Y$$的取值范围都是集合$$\mathcal{Y}$$（译注：每个变量可能的取值，只能是$$\mathcal{Y}$$中的成员）。本文我们只考虑离散的$$\mathcal{Y}$$，尽管它也可以是连续的。$$Y$$的一次特定的取值记做$$\boldsymbol{y}_s$$(译注：向量用粗体小写字母表示。$$\boldsymbol{y}_s$$是所有变量的一次取值）。对于$$Y$$中的特定变量$$Y_s$$，$$\boldsymbol{y}_s$$包含了对它的赋值，记做$$y_s$$。记号$$\boldsymbol{1}_{\{y=y'\}}$$表示一个函数，在$$y=y'$$时取1，而在其他时候取0。我们还需要边缘分布的记号。对于某个固定的取值$$y_s$$，我们用求和符号$$\sum_{\boldsymbol{y}\backslash y_s}$$来表示：在$$\boldsymbol{y}$$的全部取值中，那些$$Y_s=y_s$$的取值的概率的和（译注：$$\sum_{\boldsymbol{y}\backslash y_s}$$实际上就是：不考虑其他变量，$$Y_s=y_s$$的概率）。

假定，我们相信一个概率分布$$p$$可以表示成一组因子，记做$$\Psi(\boldsymbol{y}_a)$$的连乘。其中，a是一个整数索引（下标），从1变化到A，而A就是因子的个数。每个因子$$\Psi(\boldsymbol{y}_a)$$只依赖于部分变量$$Y_a\in Y$$。$$\Psi(\boldsymbol{y}_a)$$是一个非负数，可以被看成$$\boldsymbol{y}_a$$的自洽性的度量。自洽性高的取值，其发生的概率就高（译注：$$\boldsymbol{y}_a$$表示一组取值。当这组取值自洽的话，其发生的概率就高，反之则低。例如有两个变量：勤奋和贫穷，1表示“正”，0表示“负”。因为勤奋和贫穷往往是不相恰的，所以取值[1,1]的概率低，而取值[1,0]的概率就高。自洽性的度量实际上就是概率）。这种划分让我们更高效地表示分布$$p$$，因为集合$$Y_a$$要比完整的集合$$Y$$小得多。

一个无向图模型是这样一种概率分布，它根据一组给定的因子来划分模型。正式地，给定$$Y$$的子集$$\{Y_a\}^A_{a=1}$$的集合（译注：是子集的集合，一个子集就是一个因子），一个无向图模型是所有可以写成下式的分布：
$$
p(\boldsymbol y)=\frac{1}{Z}\prod^A_{a=1} \Psi(\boldsymbol{y}_a).
$$
其中，对于任意的因子$$\mathcal{F}=\{\Psi(\boldsymbol{y}_a)\}$$，及其对应的所有可能的$$\boldsymbol{y}_a$$，都有$$\Psi(\boldsymbol{y}_a)\geq0$$。（这些因子又被称作**局部函数**或**自洽性函数**。）我们将用**随机场**来表示由某个无向图定义的特定分布。

常数$$Z$$是一个归一化因子，保证分布$$p$$的和为1。它定义如下：
$$
Z=\sum_y \prod^A_{a=1}\Psi(\boldsymbol{y}_a).$$

Z的值，考虑成因子集合$$\mathcal{F}$$的函数的话，也被称作**配分函数（partition function）**。注意，









.


